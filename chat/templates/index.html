<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>CATCEO</title>
    {% load static %}
    <link rel="shortcut icon" href="{% static 'images/favicon.ico' %}" />
    <link rel="stylesheet" href="{% static 'css/container.css' %}" />
    <style>
      @import url("https://fonts.googleapis.com/css2?family=Poppins:wght@200;300;400;500;600;700;800;900&display=swap");

      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
        font-family: "Poppins", sans-serif;
      }

      body {
        display: flex;
        background: #333;
        flex-direction: column; /* Changed to stack elements vertically */
        min-height: 100vh;
        justify-content: center;
        align-items: center;
      }

      .footer {
        margin: 0;
        padding: 0;
        position: relative;
        width: 100%;
        background: #3586ff;
        min-height: 100px;
        padding: 20px 50px;
        display: flex;
        justify-content: center;
        align-items: center;
        flex-direction: column;
      }

      .social-icon,
      .menu {
        position: relative;
        display: flex;
        justify-content: center;
        align-items: center;
        margin: 10px 0;
        flex-wrap: wrap;
      }

      .social-icon__item,
      .menu__item {
        list-style: none;
      }

      .social-icon__link {
        font-size: 2rem;
        color: #fff;
        margin: 0 10px;
        display: inline-block;
        transition: 0.5s;
      }
      .social-icon__link:hover {
        transform: translateY(-10px);
      }

      .menu__link {
        font-size: 1.2rem;
        color: #fff;
        margin: 0 10px;
        display: inline-block;
        transition: 0.5s;
        text-decoration: none;
        opacity: 0.75;
        font-weight: 300;
      }

      .menu__link:hover {
        opacity: 1;
      }

      .footer p {
        color: #fff;
        margin: 15px 0 10px 0;
        font-size: 1rem;
        font-weight: 300;
      }

      .wave {
        position: absolute;
        top: -100px;
        left: 0;
        width: 100%;
        height: 100px;
        background: url("{%static 'images/wave.png'%}");
        background-size: 1000px 100px;
      }

      .wave#wave1 {
        z-index: 1000;
        opacity: 1;
        bottom: 0;
        animation: animateWaves 4s linear infinite;
      }

      .wave#wave2 {
        z-index: 999;
        opacity: 0.5;
        bottom: 10px;
        animation: animate 4s linear infinite !important;
      }

      .wave#wave3 {
        z-index: 1000;
        opacity: 0.2;
        bottom: 15px;
        animation: animateWaves 3s linear infinite;
      }

      .wave#wave4 {
        z-index: 999;
        opacity: 0.7;
        bottom: 20px;
        animation: animate 3s linear infinite;
      }

      @keyframes animateWaves {
        0% {
          background-position-x: 1000px;
        }
        100% {
          background-positon-x: 0px;
        }
      }

      @keyframes animate {
        0% {
          background-position-x: -1000px;
        }
        100% {
          background-positon-x: 0px;
        }
      }

      body {
        font-family: Arial, sans-serif;
        margin: 0;
        padding: 0;
        background-color: #333;
        color: white;
      }
      #chat-box {
        border: 1px solid #ccc;
        padding: 10px;
        height: 60vh;
        overflow-y: scroll;
        margin-bottom: 10px;
        background-color: #444;
        color: white;
      }
      .chat-message {
        margin-bottom: 10px;
      }
      .nickname {
        font-weight: bold;
      }
      .content {
        margin-left: 10px;
      }
      .time {
        font-size: 0.8em;
        color: gray;
        margin-left: 5px;
      }
      .image {
        display: block;
        margin-left: 10px;
        max-width: 100%;
        width: 300px;
        margin-top: 5px;
      }
      .input-container {
        width: 100%;
        box-sizing: border-box;
        padding: 0 10px;
      }
      .input-container input,
      .input-container button {
        width: 100%;
        padding: 10px;
        margin: 5px 0;
        box-sizing: border-box;
        background-color: #555;
        color: white;
        border: 1px solid #ccc;
      }
      #container {
        max-width: 800px;
        margin: 0 auto;
        padding: 10px;
      }
      #first-intro {
        font-size: 3em;
        font-weight: bold;
        text-align: center;
        color: white;
      }
      #second-intro {
        font-size: 1.3em;
        text-align: center;
        color: white;
      }
      #second-intro-text {
        font-size: 0.5em;
      }
      .copy-icon {
        cursor: pointer;
      }
      @media (max-width: 800px) {
        #container {
          padding: 10px 0;
        }
      }
      .roadmap-container {
        max-width: 800px;
        margin: 30px auto;
        padding: 20px;
        background-color: #000000;
        box-shadow: 0 0 10px rgba(255, 255, 255, 0.1);
        border-radius: 10px;
      }
      h1,
      h2,
      h3 {
        color: #daddf9;
      }
      h1 {
        text-align: center;
      }
      .roadmap-ul {
        list-style: none;
        padding: 0;
      }
      .roadmap-ul .roadmap-li {
        background: #4a494e;
        margin: 10px 0;
        padding: 10px;
        border-radius: 5px;
      }
      .roadmap,
      .services,
      .vision {
        margin-bottom: 30px;
      }
    </style>
  </head>
  <body>
    <br />
    <br />
    <div class="first-intro" id="first-intro">CATCEO</div>
    <div class="second-intro" id="second-intro">
      SOL CA :
      <div class="second-intro-text" id="second-intro-text">
        7EDRt5NZun7RakNpa8MuSGKwmc7gtXgTt1gyLQakgvn1
      </div>
      <span class="copy-icon" onclick="copyToClipboard()"> copy📋</span>
    </div>
    <br />
    <br />
    <br />
    <div id="container">
      <!-- Chat Application Section -->
      <div id="chat-box">
        {% for message in messages %}
        <div class="chat-message">
          <span class="nickname">{{ message.Nickname }}</span>
          <span class="time">[{{ message.Time }}]</span>
          <div class="content">{{ message.Content|safe }}</div>
        </div>
        {% endfor %}
      </div>
      <div class="input-container">
        <form
          id="chat-form"
          method="post"
          action="{% url 'send_message' %}"
          onsubmit="sendMessage(event)"
        >
          {% csrf_token %}
          <label for="nickname">Nickname:</label>
          <input type="text" id="nickname" name="nickname" />
          <label for="content">Content:</label>
          <input type="text" id="content" name="content" />
          <button id="send-button" type="submit">Send</button>
        </form>
      </div>

      <br />
      <br />
      <br />
      <br />
      <br />
      <!-- Main Page Content -->
      <div class="roadmap-container">
        <h1>CATCEO: The Ultimate Meme Coin for Cat Lovers</h1>

        <section class="overview">
          <h2>Overview</h2>
          <p>
            CATCEO is a unique meme coin designed for people who find solace and
            joy in looking at cute cat pictures. The coin aims to help users
            forget their difficult moments and brighten their days with adorable
            cat images. CATCEO will develop APIs to facilitate the sharing of
            cat photos and offer an AI-powered chat service to provide a
            delightful and supportive user experience.
          </p>
        </section>

        <section class="roadmap">
          <h2>Roadmap</h2>
          <ul class="roadmap-ul">
            <li class="roadmap-li">
              <h3>CHAT WITH AI</h3>
              <ul class="roadmap-ul">
                <li class="roadmap-li">
                  Integrate AI chat functionalities to enhance user engagement.
                </li>
                <li class="roadmap-li">
                  Develop and deploy a conversational AI bot, "Cat AI," capable
                  of interacting with users.
                </li>
                <li class="roadmap-li">
                  The Cat AI will use cute cat photos and cat-like language to
                  chat with users, helping them forget their troubles and
                  brighten their day.
                </li>
              </ul>
            </li>
            <li class="roadmap-li">
              <h3>CREATE SOCIAL DISCUSSION FUNCTIONS</h3>
              <ul class="roadmap-ul">
                <li class="roadmap-li">
                  Implement social discussion features within the platform.
                </li>
                <li class="roadmap-li">
                  Enable users to create and participate in forums and
                  discussion threads.
                </li>
                <li class="roadmap-li">
                  Foster a community-driven environment where users can share
                  ideas, insights, and feedback.
                </li>
              </ul>
            </li>
            <li class="roadmap-li">
              <h3>ADD ADS</h3>
              <ul class="roadmap-ul">
                <li class="roadmap-li">
                  Introduce advertisement options to the platform to generate
                  revenue.
                </li>
                <li class="roadmap-li">
                  Allow external advertisers to place ads within the platform.
                </li>
                <li class="roadmap-li">
                  Ensure that the ad placement does not hinder user experience
                  and remains relevant to the audience.
                </li>
              </ul>
            </li>
            <li class="roadmap-li">
              <h3>SHARE PROFIT BY CATCEO TOKEN</h3>
              <ul class="roadmap-ul">
                <li class="roadmap-li">
                  Establish a profit-sharing mechanism using the CATCEO token.
                </li>
                <li class="roadmap-li">
                  Distribute a portion of the platform's advertising revenue to
                  CATCEO token holders.
                </li>
                <li class="roadmap-li">
                  Develop a transparent and fair method for calculating and
                  distributing profits.
                </li>
              </ul>
            </li>
            <li class="roadmap-li">
              <h3>DEVELOP LAYER 1 COIN</h3>
              <ul class="roadmap-ul">
                <li class="roadmap-li">Create and launch a new Layer 1 cryptocurrency.</li>
                <li class="roadmap-li">
                  Ensure the Layer 1 Coin has distinct features and benefits
                  within the ecosystem.
                </li>
                <li class="roadmap-li">
                  Promote the Layer 1 Coin to attract interest and investment
                  from the community.
                </li>
              </ul>
            </li>
            <li class="roadmap-li">
              <h3>SHARE LAYER 1 COIN FOR CATCEO TOKEN TAKERS</h3>
              <ul class="roadmap-ul">
                <li class="roadmap-li">
                  Develop a distribution plan to share the Layer 1 Coin with
                  CATCEO token holders.
                </li>
                <li class="roadmap-li">
                  Implement a mechanism to reward CATCEO token stakers with the
                  new Layer 1 Coin.
                </li>
                <li class="roadmap-li">
                  Ensure the distribution process is transparent and
                  incentivizes long-term holding and staking of CATCEO tokens.
                </li>
              </ul>
            </li>
          </ul>
        </section>

        <section class="services">
          <h2>Services</h2>
          <ul class="roadmap-ul">
            <li class="roadmap-li">
              <h3>Cat Photo API</h3>
              <ul class="roadmap-ul">
                <li class="roadmap-li">
                  Develop an API that allows developers to easily share and
                  upload cat photos to various websites and services.
                </li>
                <li class="roadmap-li">
                  Provide extensive documentation and support to help developers
                  integrate the API into their platforms.
                </li>
                <li class="roadmap-li">
                  Ensure the API is robust, scalable, and secure to handle large
                  volumes of cat photo sharing.
                </li>
              </ul>
            </li>
            <li class="roadmap-li">
              <h3>Cat AI Chat Service</h3>
              <ul class="roadmap-ul">
                <li class="roadmap-li">
                  Develop an AI-powered chat service where users can interact
                  with a virtual cat.
                </li>
                <li class="roadmap-li">
                  The Cat AI will chat with users using cute cat photos and
                  cat-like language, providing a fun and supportive experience.
                </li>
                <li class="roadmap-li">
                  Aim to alleviate users' stress and boredom by engaging them in
                  delightful and entertaining conversations.
                </li>
              </ul>
            </li>
          </ul>
        </section>

        <section class="vision">
          <h2>Vision</h2>
          <p>
            CATCEO aims to create a community where users can find joy and
            comfort through cute cat photos and engaging AI interactions. By
            providing robust APIs and innovative services, CATCEO will empower
            developers to bring the charm of cat content to a broader audience,
            making the internet a happier place for cat lovers everywhere.
          </p>
        </section>
      </div>
      <br />
      <br />
      <br />
      <br />
      <br />
      <br />
      <br />
      <br />
      <br />
      <br />
      <br />
      <br />
      <br />
      <br />
    </div>
    <footer class="footer">
      <div class="waves">
        <div class="wave" id="wave1"></div>
        <div class="wave" id="wave2"></div>
        <div class="wave" id="wave3"></div>
        <div class="wave" id="wave4"></div>
      </div>
      <ul class="social-icon">
        <li class="social-icon__item">
          <a
            class="social-icon__link"
            target="_blank"
            href="https://x.com/@catceo_"
          >
            <ion-icon name="logo-twitter"></ion-icon>
          </a>
        </li>
      </ul>
      <ul class="menu">
        <li class="menu__item">
          <a class="menu__link" href="https://t.me/catceo_portal">telegram</a>
        </li>
        <li class="menu__item">
          <a
            class="menu__link"
            href="https://dexscreener.com/solana/8atkgrlrfpsfarjigjdhzvygr9ztwgswgxzbrciters5"
            >dexscreener</a
          >
        </li>
      </ul>
      <p class="footer_p">&copy;2024 catceo | All Rights Reserved</p>
    </footer>
    <script
      type="module"
      src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.esm.js"
    ></script>
    <script
      nomodule
      src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.js"
    ></script>
    <script>
      function getCookie(name) {
        let cookieValue = null;
        if (document.cookie && document.cookie !== "") {
          const cookies = document.cookie.split(";");
          for (let i = 0; i < cookies.length; i++) {
            const cookie = cookies[i].trim();
            if (cookie.substring(0, name.length + 1) === name + "=") {
              cookieValue = decodeURIComponent(
                cookie.substring(name.length + 1)
              );
              break;
            }
          }
        }
        return cookieValue;
      }

      const csrftoken = getCookie("csrftoken");

      function convertToAmericanTime(isoString) {
        const date = new Date(isoString);
        const options = {
          hour: "2-digit",
          minute: "2-digit",
          second: "2-digit",
          year: "numeric",
          month: "short",
          day: "numeric",
          timeZone: "America/New_York",
          timeZoneName: "short",
        };
        return date.toLocaleString("en-US", options);
      }

      function parseContent(content) {
        const urlPattern = /https:\/\/[^\s]+/g;
        const parts = content.split(urlPattern);
        const urls = content.match(urlPattern) || [];
        let parsedContent = parts.shift();

        const checkImage = (url) => {
          return new Promise((resolve) => {
            const img = new Image();
            img.src = url;
            img.onload = () => resolve(url);
            img.onerror = () => resolve(null);
          });
        };

        const contentElement = document.createElement("div");

        Promise.all(urls.map((url) => checkImage(url))).then((results) => {
          results.forEach((url, index) => {
            if (url) {
              parsedContent += `<br><img src="${url}" class="image"><br>${parts[index]}`;
            }
          });
          contentElement.innerHTML = parsedContent;
        });

        return contentElement;
      }

      function displayMessage(message) {
        const chatBox = document.getElementById("chat-box");
        const messageElement = document.createElement("div");
        messageElement.className = "chat-message";
        messageElement.innerHTML = `
                <span class="nickname">${message.Nickname}</span>
                <span class="time">[${convertToAmericanTime(
                  message.Time
                )}]</span>
                <div class="content"></div>
            `;
        const contentElement = parseContent(message.Content);
        messageElement.querySelector(".content").appendChild(contentElement);
        chatBox.appendChild(messageElement);
        scrollToBottom();
      }

      function sendMessage(event) {
        event.preventDefault(); // 폼 제출 기본 동작 방지

        const form = event.target;
        const formData = new FormData(form);

        const sendButton = document.getElementById("send-button");
        sendButton.disabled = true;

        let countdown = 5;
        const countdownInterval = setInterval(() => {
          if (countdown > 0) {
            sendButton.textContent = `Send (${countdown})`;
            countdown--;
          } else {
            sendButton.textContent = "Send";
            sendButton.disabled = false;
            clearInterval(countdownInterval);
          }
        }, 1000);

        fetch(form.action, {
          method: "POST",
          headers: {
            "X-CSRFToken": csrftoken,
          },
          body: formData,
        })
          .then((response) => response.json())
          .then((data) => {
            if (Array.isArray(data)) {
              data.forEach((message) => displayMessage(message));
            } else {
              displayMessage(data);
            }
            document.getElementById("content").value = ""; // 컨텐츠 필드 비우기
            scrollToBottom();
          })
          .catch((error) => console.error("Error:", error));
      }

      function scrollToBottom() {
        const chatBox = document.getElementById("chat-box");
        chatBox.scrollTop = chatBox.scrollHeight;
      }

      // 초기 메시지에서 이미지 처리
      document
        .querySelectorAll(".chat-message .content")
        .forEach((contentElement) => {
          const parsedContent = parseContent(contentElement.innerHTML);
          contentElement.innerHTML = "";
          contentElement.appendChild(parsedContent);
        });

      // 페이지 로드 시 맨 아래로 스크롤
      window.onload = scrollToBottom;

      const chatBox = document.getElementById("chat-box");

      const observer = new MutationObserver(() => {
        scrollToBottom();
      });

      observer.observe(chatBox, { childList: true, subtree: true });

      function copyToClipboard() {
        const text = document.getElementById("second-intro-text").innerText;
        navigator.clipboard
          .writeText(text)
          .then(() => {
            alert("Copied to clipboard");
          })
          .catch((err) => {
            console.error("Failed to copy: ", err);
          });
      }
    </script>
  </body>
</html>
